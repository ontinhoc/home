<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="description" content="Tin học 11 - Bài 18: Thực hành xác định cấu trúc bảng và các trường khóa. Quy trình xác định bảng, chuẩn hóa, khóa chính/khóa ngoại, kiểu dữ liệu và luyện tập." />
    <meta name="keywords" content="Tin học 11, cấu trúc bảng, khóa chính, khóa ngoại, chuẩn hóa, CSDL, thực hành" />
    <meta name="author" content="Ontinhoc">
    <title>Thực Hành Xác Định Cấu Trúc Bảng | Tin 11 - Bài 18</title>
    <style>
        :root{--bg:#f7fafc; --card:#fff; --primary:#0ea5e9; --muted:#64748b; --accent:#0369a1; --radius:12px; --content-max:1080px}
        *{box-sizing:border-box}
        body{font-family:Inter,'Segoe UI',system-ui,-apple-system,'Helvetica Neue',Arial,sans-serif;background:var(--bg);color:#0f172a;margin:0;padding:24px;display:flex;justify-content:center}
        .wrap{width:100%;max-width:var(--content-max)}
        header{background:linear-gradient(93deg,var(--primary),var(--accent));color:#fff;padding:30px;border-radius:var(--radius);box-shadow:0 12px 30px rgba(14,165,233,0.22)}
        header h1{margin:0;font-size:1.75rem}
        header p{margin:10px 0 0;opacity:0.95;max-width:820px;line-height:1.5}
        nav{display:flex;flex-wrap:wrap;gap:12px;margin:20px 0}
        nav a{background:var(--card);padding:9px 14px;border-radius:10px;color:var(--accent);text-decoration:none;font-weight:600;box-shadow:0 1px 4px rgba(2,6,23,0.08);transition:transform 0.18s ease,box-shadow 0.18s ease}
        nav a:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(3,105,161,0.18)}
        main{margin-top:16px}
        .card{background:var(--card);padding:22px;border-radius:var(--radius);box-shadow:0 10px 30px rgba(15,23,42,0.06);margin-bottom:18px}
        h2{color:var(--accent);margin-top:0;font-size:1.45rem}
        h3{color:#0f766e;margin-top:16px}
        p{line-height:1.6}
        ul,ol{margin:10px 0 10px 22px;padding:0;line-height:1.6}
        li{margin-bottom:8px}
        .note{background:#ecfeff;border-left:4px solid var(--primary);padding:14px;border-radius:8px;margin-top:12px}
        .steps{background:#fff7ed;border-left:4px solid #f97316;padding:14px;border-radius:8px;margin-top:12px}
        .keywords{display:flex;flex-wrap:wrap;gap:10px;margin-top:12px}
        .badge{background:#e0f2fe;color:var(--accent);padding:6px 12px;border-radius:999px;font-weight:600;font-size:0.9rem}
        footer{margin-top:20px;text-align:center;color:var(--muted);font-size:0.95rem}
        #backToTop{position:fixed;right:18px;bottom:18px;background:var(--accent);color:#fff;border:none;width:46px;height:46px;border-radius:10px;display:none;cursor:pointer;box-shadow:0 8px 18px rgba(3,105,161,0.35);font-size:1.25rem}
        #backToTop:hover{opacity:0.92}
        code{background:#f1f5f9;padding:2px 6px;border-radius:6px}
        @media(max-width:720px){
            body{padding:18px}
            header{padding:24px}
            header h1{font-size:1.45rem}
            nav a{flex:1 1 160px;text-align:center}
            .card{padding:18px}
        }
    </style>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Article",
      "headline": "Bài 18: Thực hành xác định cấu trúc bảng và các trường khóa (Tin học 11)",
      "author": {"@type": "Person", "name": "Ontinhoc"},
      "inLanguage": "vi",
      "keywords": ["cấu trúc bảng", "khóa chính", "khóa ngoại", "chuẩn hóa", "Tin học 11"],
      "publisher": {"@type": "Organization", "name": "Ontinhoc"},
      "description": "Quy trình xác định bảng dữ liệu, chuẩn hóa và thiết lập các trường khóa trước khi tạo CSDL."
    }
    </script>
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' data:; style-src 'unsafe-inline' 'self'; script-src 'self' 'unsafe-inline';">
    <link rel="preload" as="script" href="protect.js">
    <link rel="prefetch" href="index.html">
    <meta name="referrer" content="no-referrer">
</head>
<body oncontextmenu="return false">
    <a href="index.html" aria-label="Về trang chủ" class="btn" style="position:fixed;top:12px;left:12px;z-index:50;text-decoration:none;">TRANG CHỦ</a>
    <div class="wrap">
        <header>
            <h1>Tin 11 - Bài 18: Thực hành xác định cấu trúc bảng và các trường khóa</h1>
            <p>Bài học thực hành giúp hình dung quy trình xác định các bảng dữ liệu, cấu trúc bảng và các trường khóa trước khi tạo CSDL,
                minh họa bằng bài toán quản lí bản thu âm nhạc cho website âm nhạc.</p>
            <nav aria-label="Mục lục">
                <a href="#muc-tieu">Mục tiêu</a>
                <a href="#boi-canh">Nhiệm vụ</a>
                <a href="#quy-trinh">Quy trình</a>
                <a href="#khoa-du-lieu">Khóa &amp; kiểu dữ liệu</a>
                <a href="#luyen-tap">Luyện tập</a>
            </nav>
        </header>

        <main>
            <section id="muc-tieu" class="card" aria-labelledby="muc-tieu-title">
                <h2 id="muc-tieu-title">Mục tiêu bài học</h2>
                <ul>
                    <li>Hình dung được quy trình xác định các bảng dữ liệu, cấu trúc của bảng và các trường khóa trước khi tạo CSDL. (tr.86)</li>
                </ul>
                <div class="keywords" aria-label="Từ khóa">
                    <span class="badge">chuẩn hóa</span>
                    <span class="badge">khóa chính</span>
                    <span class="badge">khóa ngoại</span>
                    <span class="badge">bảng dữ liệu</span>
                </div>
            </section>

            <section id="boi-canh" class="card" aria-labelledby="boi-canh-title">
                <h2 id="boi-canh-title">Nhiệm vụ &amp; bối cảnh</h2>
                <ul>
                    <li>Bài toán: Quản lí các bản thu âm nhạc (tên bản nhạc, nhạc sĩ, ca sĩ) cho website âm nhạc. (tr.86)</li>
                </ul>
                <div class="note" role="note">
                    <strong>Gợi ý:</strong> Bảng ghi chép ban đầu (Bảng 18.1) có dữ liệu lặp vì cùng bản nhạc/ca sĩ xuất hiện nhiều lần.
                </div>
            </section>

            <section id="quy-trinh" class="card" aria-labelledby="quy-trinh-title">
                <h2 id="quy-trinh-title">Quy trình xác định cấu trúc bảng</h2>

                <h3>1) Xem xét bài toán</h3>
                <ul>
                    <li>Từ bảng ghi chép ban đầu (Bảng 18.1), nhận ra dữ liệu lặp: cùng bản nhạc/ca sĩ xuất hiện nhiều lần. (tr.86)</li>
                </ul>

                <h3>2) Tạo lập bảng ban đầu</h3>
                <ul>
                    <li>Phác thảo bảng <code>banthuam(idBanthuam, tenBannhac, tenNhacsi, tenCasi)</code>.</li>
                    <li>Chọn khóa chính: ưu tiên <code>idBanthuam</code> vì gọn và thuận tiện hơn nhóm nhiều trường. (tr.87)</li>
                </ul>

                <h3>3) Tổ chức lại dữ liệu (chuẩn hóa từng bước)</h3>
                <ul>
                    <li>Tách ca sĩ: lập bảng <code>casi(idCasi, tenCasi)</code>; thay <code>tenCasi</code> trong <code>banthuam</code> bằng <code>idCasi</code>. (tr.87)</li>
                    <li>Tách bản nhạc: lập bảng <code>bannhac(idBannhac, tenBannhac, tenNhacsi)</code>; thay cặp (<code>tenBannhac</code>, <code>tenNhacsi</code>) trong <code>banthuam</code> bằng <code>idBannhac</code>. (tr.88)</li>
                    <li>Tách nhạc sĩ: lập bảng <code>nhacsi(idNhacsi, tenNhacsi)</code>; thay <code>tenNhacsi</code> trong <code>bannhac</code> bằng <code>idNhacsi</code>. (tr.88–89)</li>
                </ul>
                <div class="steps" role="note">
                    <strong>Kết quả hệ bảng (Hình 18.1):</strong>
                    <ul>
                        <li><code>casi(idCasi, tenCasi)</code></li>
                        <li><code>nhacsi(idNhacsi, tenNhacsi)</code></li>
                        <li><code>bannhac(idBannhac, tenBannhac, idNhacsi)</code></li>
                        <li><code>banthuam(idBanthuam, idBannhac, idCasi)</code></li>
                    </ul>
                </div>
            </section>

            <section id="khoa-du-lieu" class="card" aria-labelledby="khoa-du-lieu-title">
                <h2 id="khoa-du-lieu-title">Các loại khóa &amp; kiểu dữ liệu gợi ý</h2>

                <h3>4) Các loại khóa</h3>
                <ul>
                    <li>Mỗi bảng có khóa chính (gạch chân trong mô tả).</li>
                    <li>Khóa ngoại:
                        <ul>
                            <li><code>bannhac.idNhacsi</code> → <code>nhacsi.idNhacsi</code></li>
                            <li><code>banthuam.idBannhac</code> → <code>bannhac.idBannhac</code></li>
                            <li><code>banthuam.idCasi</code> → <code>casi.idCasi</code></li>
                        </ul>
                    </li>
                    <li>Ràng buộc duy nhất (Unique): <code>(tenBannhac, idNhacsi)</code> trong <code>bannhac</code> không trùng; <code>(idBannhac, idCasi)</code> trong <code>banthuam</code> không trùng. (tr.90)</li>
                </ul>
                <div class="note" role="note">
                    <strong>Hình 18.2:</strong> Sơ đồ quan hệ thể hiện các khóa ngoại và ràng buộc liên kết giữa các bảng.
                </div>

                <h3>5) Kiểu dữ liệu gợi ý cho trường</h3>
                <ul>
                    <li>Khóa chính: kiểu <code>INT</code>, tự tăng <code>AUTO_INCREMENT</code>.</li>
                    <li>Tên: chuỗi <code>VARCHAR(255)</code> cho <code>tenNhacsi</code>, <code>tenCasi</code>, <code>tenBannhac</code>. (tr.90)</li>
                </ul>
            </section>

            <section id="luyen-tap" class="card" aria-labelledby="luyen-tap-title">
                <h2 id="luyen-tap-title">Luyện tập – Vận dụng</h2>
                <ul>
                    <li>Bổ sung quản lí ngày sinh, nơi sinh cho nhạc sĩ/ca sĩ → mở rộng lược đồ (thêm trường/bảng liên quan). (tr.90)</li>
                    <li>Vận dụng: phân tích – thiết lập mô hình dữ liệu cho danh sách tên quận/huyện theo tỉnh/thành. (tr.90)</li>
                </ul>
                <div class="steps" role="note">
                    <strong>Gợi ý trình bày:</strong> Viết rõ bảng, khóa chính, khóa ngoại và ràng buộc unique cho từng bảng.
                </div>
                <div class="keywords" aria-label="Từ khóa">
                    <span class="badge">chuẩn hóa dữ liệu</span>
                    <span class="badge">ràng buộc khóa</span>
                    <span class="badge">lược đồ CSDL</span>
                </div>
            </section>

            <footer>
                <p>Tài liệu hỗ trợ giảng dạy và tự học Tin học 11. &copy; 2025 Ontinhoc</p>
            </footer>
        </main>
    </div>

    <button id="backToTop" title="Về đầu trang" aria-label="Về đầu trang">&uarr;</button>
    <script>
        // Harden: block context menu and common DevTools/View-source shortcuts
        document.addEventListener('contextmenu', (e) => e.preventDefault(), {capture:true});
        const blockCombos = (e) => {
            const k = (e.key || '').toLowerCase();
            const ctrlLike = e.ctrlKey || e.metaKey; // Ctrl (Win/Linux) or Cmd (macOS)
            if (e.key === 'F12') return e.preventDefault();
            if (ctrlLike && (k === 'u' || k === 's' || k === 'p')) return e.preventDefault();
            if (ctrlLike && e.shiftKey && (k === 'i' || k === 'j' || k === 'c' || k === 'k')) return e.preventDefault();
        };
        document.addEventListener('keydown', blockCombos, {capture:true});

        // Smooth scroll for in-page navigation
        document.querySelectorAll('nav a').forEach(link => {
            link.addEventListener('click', event => {
                const href = link.getAttribute('href');
                if (href && href.startsWith('#')) {
                    event.preventDefault();
                    const target = document.querySelector(href);
                    if (target) target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });

        // Back-to-top button behaviour
        const backToTop = document.getElementById('backToTop');
        window.addEventListener('scroll', () => {
            backToTop.style.display = window.scrollY > 220 ? 'block' : 'none';
        });
        backToTop.addEventListener('click', () => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
    </script>
    <script src="protect.js"></script>
</body>
</html>
